<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Recipe Form</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"
          th:href="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.css} "
    >


    <script defer src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"
            th:src="@{/webjars/jquery/3.5.1/jquery.min.js}"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script defer src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"
            th:src="@{/webjars/bootstrap/4.3.1/css/bootstrap.min.js} "></script>
</head>
<body>
<div class="container-fluid mt-3" >
   <div class="row mb-5">
       <div class="col-md-8 offset-md-2">
           <form th:object="${recipe}" th:action="@{/recipe/}" method="post">
               <div th:if="${#fields.hasErrors('*')}" class="alert alert-danger">
                   <p>Please correct the following errors</p>
               </div>
               <input type="hidden" th:field="*{id}"/>
             <div class="card-group">
                 <div class="card border border-info ">
                     <div class="card-header bg-info text-white">Edit Recipe Information</div>
                     <div class="card-body">
                         <div class="row" >
                             <div class="col-md-4 form-group">
                                 <label >Recipe Description:</label>
                                 <input type="text" class="form-control border border-dark "  th:field="*{description}"
                                        th:class="${#fields.hasErrors('description')}?'is-invalid form-control':'form-control border border-dark'"/>
                                 <span class="invalid-feedback" th:if="${#fields.hasErrors('description')}" >
                                     <ul>
                                         <li th:each="err : ${#fields.errors('description')}" th:text="${err}"></li>
                                     </ul>
                                 </span>
                             </div>
                         </div>
                         <div class="row">
                             <div class="col-md-4 form-group">
                                 <label>PrepTime:</label>
                                 <input type="text" class="form-control border border-dark" th:field="*{prepTime}"
                                        th:class="${#fields.hasErrors('prepTime')}?'is-invalid form-control':'form-control border border-dark'"/>
                                 <span class="invalid-feedback" th:if="${#fields.hasErrors('prepTime')}" >
                                     <ul>
                                         <li th:each="err : ${#fields.errors('prepTime')}" th:text="${err}"></li>

                                     </ul>
                                 </span>
                             </div>
                             <div class="col-md-4 form-group" >
                                 <label>CookTime:</label>
                                 <input type="text" class="form-control border border-dark" th:field="*{cookTime}"
                                        th:class="${#fields.hasErrors('cookTime')}?'is-invalid form-control':'form-control border border-dark'"/>
                                 <span class="invalid-feedback" th:if="${#fields.hasErrors('cookTime')}" >
                                     <ul>
                                         <li th:each="err : ${#fields.errors('cookTime')}" th:text="${err}"></li>
                                     </ul>
                                 </span>
                             </div>
                             <div class="col-md-4 form-group">
                                 <label>Difficulty:</label>
                                 <select class="form-control border border-dark" th:field="*{difficulty}">
                                     <option th:each="difficultValue:${T(com.sree.testDrivenDevelopment.domain.Difficulty).values()}"
                                             th:value="${difficultValue.name()}"
                                             th:text="${difficultValue.name() }"

                                     >Easy</option>

                                 </select>
                                 <select class="form-control border border-dark" th:remove="all">
                                     <option>Easy</option>
                                     <option>Medium</option>
                                     <option>Hard</option>
                                 </select>
                             </div>
                         </div>
                         <div class="row">
                             <div class="col-md-4 form-group">
                                 <label>Servings:</label>
                                 <input type="text" class="form-control border border-dark"
                                        th:field="*{servings}" th:class="${#fields.hasErrors('servings')}?'is-invalid form-control':'form-control border border-dark'"/>
                                 <span class="invalid-feedback" th:if="${#fields.hasErrors('servings')}" >
                                     <ul>
                                         <li th:each="err : ${#fields.errors('servings')}" th:text="${err}"></li>
                                     </ul>
                                 </span>
                             </div>
                             <div class="col-md-4 form-group">
                                 <label>Source:</label>
                                 <input type="text" class="form-control border border-dark" th:field="*{source}"/>
                             </div>
                             <div class="col-md-4 form-group">
                                 <label>URL:</label>
                                 <input type="text" class="form-control border border-dark" th:field="*{url}"
                                        th:class="${#fields.hasErrors('url')}?'is-invalid form-control':'form-control border border-dark'"/>
                                 <span class="invalid-feedback" th:if="${#fields.hasErrors('url')}" >
                                     <ul>
                                         <li th:each="err : ${#fields.errors('url')}" th:text="${err}"></li>
                                     </ul>
                                 </span>
                             </div>
                         </div>

                     </div>
                 </div>
             </div>

               <div class="card border border-info mt-3">
                   <div class="card-header bg-info text-white ">
                       <div class="row ">
                           <div class="col-md-11 ">
                               <div class="text-capitalize">Ingredients</div>
                           </div>
                           <div class="col-md-1">
                               <a class="btn btn-light" href="#" th:href="@{'/recipe/' + ${recipe.id} + '/ingredients'}" role="button">View</a>
                           </div>
                       </div>
                   </div>
                   <div class="card-body">
                       <div class="row">
                           <div class="col-md-12">
                               <ul>
                                   <li th:remove="all">1 Cup of milk</li>
                                   <li th:remove="all">1 Teaspoon of chocolate</li>
                                   <li th:each="ingredient : ${recipe.ingredientSet}"
                                       th:text="${(ingredient.getAmount() +
                                        ' ' + ingredient.unitOfMeasure.getUom() +
                                        ' - ' + ingredient.getIngDescription())}">1 Teaspoon of Sugar
                                   </li>
                               </ul>
                           </div>
                       </div>
                   </div>
               </div>
               <div class="card border border-info mt-3">
                   <div class="card-header bg-info text-white">
                       Directions
                   </div>
                   <div class="card-body">
                       <div class="row">
                           <div class="col-md-12 form-group">
                               <textarea class="form-control" rows="3" th:field="*{direction}"
                                         th:class="${#fields.hasErrors('direction')}?'is-invalid form-control':'form-control'">

                               </textarea>
                               <span class="invalid-feedback">
                                     <ul>
                                         <li th:each="err : ${#fields.errors('direction')}" th:text="${err}"></li>
                                     </ul>
                                 </span>
                           </div>
                       </div>
                   </div>
               </div>

               <div class="card border border-info mt-3">
                   <div class="card-header bg-info text-white">
                       Notes
                   </div>
                   <div class="card-body">
                       <div class="row">
                           <div class="col-md-12 form-group">
                               <textarea class="form-control" rows="3" th:field="*{notes.recipeNotes}"></textarea></div>
                       </div>
                   </div>
               </div>

               <button type="submit" class="btn btn-info mt-3">Submit</button>

           </form>
       </div>

   </div>
</div>
</body>
</html>